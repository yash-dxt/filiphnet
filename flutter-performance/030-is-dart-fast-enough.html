<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- People who read source code are awesome.
         Here you are: https://github.com/filiph/filiphnet -->

    <meta charset="utf-8">
    <title>Chapter 3: Is Dart fast enough?</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="alternate" type="application/atom+xml" title="Filip Hracek’s Flutter Performance Book" href="https://filiph.net/flutter-performance/atom.xml" />

    <meta property="og:title" content="Chapter 3: Is Dart fast enough?">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://filiph.net/flutter-performance/030-is-dart-fast-enough.html">
    <meta property="og:description" content="A brief look at programming language performance.">
    <meta property="og:image" content="https://filiph.net/img/filiphnet-text.png">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@filiphracek">
    <meta name="twitter:title" content="Chapter 3: Is Dart fast enough?">
    <meta name="twitter:description" content="A brief look at programming language performance.">
    <meta name="twitter:image" content="https://filiph.net/img/filiphnet-text.png">

    <meta name="robots" content="all" />
    <meta name="description" content="A brief look at programming language performance." />
    <meta name="author" content="Filip Hracek" />

    <style>
      .wrapper {
        max-width: 600px;
        margin: 0 auto;
        padding: 5vw;
      }

      body {
        font-family: Georgia, serif;
      }

      h1, h2 {
        font-family: "Helvetica Neue", Helvetica, sans-serif;
        font-weight: 300;
        text-wrap: balance;
      }

      .above-title {
        font-family: "Helvetica Neue", Helvetica, sans-serif;
        font-size: 0.9rem;
        text-transform: uppercase;
        text-wrap: balance;
      }

      h1 {
        margin-top: 0;
        font-size: 2.6rem;
      }

      h2 {
        font-size: 1.8rem;
        margin-top: 1.6em;
      }

      ul {
        padding-left: 2em;
      }

      p, li {
        font-size: 1.2rem;
        line-height: 1.5em;
      }

      li {
        /*list-style: none;*/
      }

      a, abbr {
        text-decoration: none;
      }

      img, video {
        display: block;
        margin-left: auto;
        margin-right: auto;
        max-width: 100%;
      }

      .signature {
        text-align: right;
      }

      .footer {
        margin-top: 3em;
        border-top: 5px solid gray;
      }

      .filip-portrait {
        margin-top: 1em;
        margin-right: 2em;
        margin-bottom: 1em;
        width: 175px;
        float: left;

        animation: appear-portrait 6s;
      }

      @keyframes appear-portrait { 0% {opacity: 0;} 40% {opacity: 1;} }

      .note {
        text-transform: uppercase;
        font-size: 60%;
        font-family: "Helvetica Neue", Helvetica, sans-serif;
      }

      .highlight {
        background-color: yellow;
      }

      @media screen and (max-width: 380px) {
        .portrait {
          float: none;
          display: block;
          margin: 0 auto;
        }
      }
    </style>

    <script>
      // Docs here: https://docs.mathjax.org/en/latest/options/input/tex.html
      MathJax = {
        tex: {
          inlineMath: [['$', '$']],
          displayMath: [['$$', '$$']]
        },
        svg: {
          fontCache: 'global'
        }
      };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  </head>
  <body>
    <div class="wrapper">

      <p class="above-title">
        <a href="/">Filip Hráček</a> /
        <a href="/flutter-performance">Flutter performance</a> /
      </p>

      <h1>Chapter 3: Is Dart fast enough?</h1>

      <p></p>
<p>Yes, it is.</p>
<p>...</p>
<p>Alright, look. If I was playing a wise performance guru, I would say something like:</p>
<blockquote>
<p>Does it even make sense to talk about the performance of a <em>programming language?</em> Programming languages are abstractions! Only concrete programs, compiled with concrete compilers and executed on concrete hardware, can have a notion of performance.</p>
</blockquote>
<p>Then I’d nod to my own wisdom, stroke my long white beard, and close my eyes to meditate on the meaning of “benchmark.”</p>
<p>And I would be correct, of course! We all know that there does not exist a single ranking of programming languages by speed. But I hope we can also agree that, roughly speaking and with a lot of handwaving, that some programming languages <em>are</em> more performant than others.</p>
<p>In most ways that matter, C++ <em>is</em> more performant than Python, for example. Implementing the same algorithm in C++ and in Python will <em>generally</em> lead to a faster program in C++, and a slower one in Python. I bet there are special cases in which Python is, in fact, faster or less resource-intensive than C. But — they’re rare. There’s a reason why real-time simulations are almost exclusively written in C++ and not a more high-level language like Python.</p>
<p>Most people also understand the idea of trade-offs. You can trade a bit of performance for some ease of use, security, portability, or speed of development. And that can obviously be fine because otherwise, if it wasn’t fine, every app <em>ever</em> would be written either in assembly or in C.</p>
<p>If you ever looked into programming language performance, you've probably seen <em>The Computer Language Benchmarks Game</em>.<sup class="footnote-ref"><a href="#fn-1" id="fnref-1">1</a></sup> This is a website that has a number of benchmarks implemented in a variety of programming languages, and shows statistics on them in order to “give a simple idea of each language’s general performance”.</p>
<p></p>
<p>From this site you get graphs like these:<sup class="footnote-ref"><a href="#fn-2" id="fnref-2">2</a></sup></p>
<img src="fastest-elapsed.svg">
<img src="fastest-more-elapsed.svg" loading="lazy">
<p>Maybe you've seen them before. The most shallow reading of these graphs tells us this about general programming language performance:</p>
<ul>
<li>C and C++ and Rust are the fastest programming languages</li>
<li>The following two languages, Chapel and C#, are both about 2x slower than C.</li>
<li>The next cluster of 10 languages is about 3x to 5x slower than C and includes Fortran, Julia, Java, Go and Swift.</li>
<li>The cluster just after that is about 5x to 7x slower and includes OCaml, Dart and Javascript (Node.js).</li>
<li>Racket is next, more than 10x slower than C.</li>
<li>The graph is capped by 7 languages, including PHP (40x slower), Ruby (50x slower), Python (60x) and Lua (90x slower).</li>
</ul>
<p>But, and this is a big “but”, it’s important to understand what the benchmarks are measuring.</p>
<p></p>
<p>The benchmarks are measuring the elapsed time of long-running computations such as Mandelbrot, Fannkuch or an N-body physics simulation. So, if you’re working on a high performance scientific simulation, for example, then the data above are relevant and yes, in that case you should go with C or Rust rather than Dart.</p>
<p>But if you’re reading this book, chances are you’re either programming apps, servers, or games. And therefore most of your code doesn’t deal with multi-second uninterrupted parallel CPU computations. You’re not computing the digits of π. You’re building UIs and serving data. The benchmarks above don’t really apply then.</p>
<p>For example, let’s say you’re about to write some server-side code and you have a choice between C# and PHP. Looking at the data above, you could get the idea that C# is obviously the better choice, performance-wise. I mean, C# is apparently about 20x faster than PHP, right? How could the data be any more clear?</p>
<p>Yet, in 2022, a blogpost called <a href="https://withinboredom.info/2022/03/16/yes-php-is-faster-than-c/">Yes, PHP Is Faster Than C#</a> made the rounds on the internet, and it made a pretty convincing argument that, at least in reading files (a common task for web servers), PHP is faster than C#. Soon, a C# blogger responded to this with a pretty convincing argument that, no, actually, C# is faster.<sup class="footnote-ref"><a href="#fn-3" id="fnref-3">3</a></sup> But only for smaller files and only if you know what C# API to avoid, and <em>especially</em> if you know how to do vectorization. That’s a far cry from “C# is 20x faster than PHP”.</p>
<p>My point is not that PHP is faster than C#. It’s not, and measuring simple file access is at least as shallow a benchmark as anything in <em>The Benchmark Game</em>. My point is that the numbers from benchmarks such as <em>The Benchmark Game</em> simply don’t translate neatly to real-world app performance.</p>
<p>There <em>are</em> stabs at better real-world benchmarks out there, though they’re not as well-known as <em>The Benchmark Game</em>. For example, <em>The Programming Language Benchmarks</em><sup class="footnote-ref"><a href="#fn-progbench" id="fnref-progbench">4</a></sup> project measures things like JSON serialization and deserialization, and HTTP servers, and RegEx. Here, Dart tends to be in the middle of the pack, behind Rust and D, comparable to Go and C# and Typescript, and faster than Python, Java, and Kotlin.</p>
<p>But even <em>these</em> benchmarks are far from useful. Because most languages implement things like JSON serialization and HTTP and RegEx <em>internally</em>, in a lower level language. When you parse JSON in JavaScript, for example, the actual parsing is done by code written in C++. So unless your app is a thin wrapper around a JSON parser, and you’re parsing huge JSON files every frame, you don’t care.</p>
<p>Ideally, we’d have something like <em>The Benchmark Game</em> or <em>The Programming Language Benchmarks</em>, but with apps instead of long-running batch jobs. Have a representative set of typical, complex apps. Implement them in C, Rust, Java, Swift, Dart, JavaScript, ideally using a variety of frameworks. Then measure their performance.</p>
<p></p>
<p>But I have a feeling this is never going to happen. There just aren’t enough motivated developers to put the work into implementing so many versions of so many otherwise-useless apps. The programs in <em>The Benchmark Game</em> are all at most a few hundreds of lines of code. That’s just not going to be enough to build complex-enough apps, especially if you’re using something like C or Rust.</p>
<p>The next best thing is to compare <em>game</em> performance, and that’s actually something I did in 2024.<sup class="footnote-ref"><a href="#fn-gameperf" id="fnref-gameperf">5</a></sup> I wanted to compare Flutter, in terms of performance, to the most important game engines out there: Unity and Godot. I designed a simple “game” to exercise the most important muscles a game developer might want in a game engine, such as the ability to track and update many game objects at once.</p>
<p>Flutter (and therefore also Dart) actually did pretty well. Unity is a game engine written in C++ with game logic written in C#. Godot is also a C++ game engine, with game logic written in GDScript (a proprietary programming language similar to Python in syntax but optimized for speed). Again, if you look back at the results from <em>The Benchmark Game</em>, you might assume that Unity and Godot will wipe the floor with Flutter.</p>
<p>I’m not going to repeat all my findings here but, suffice to say, Flutter was actually holding up quite well next to the big boys. It was able to track more than enough game objects without missing frames (more than Godot, in fact) and it was more battery-efficient.</p>
<img src="image9 1.png" loading="lazy">
<img src="image6 1.png" loading="lazy">
<p>And, not surprisingly, it was several times faster at startup.</p>
<img src="image3 1.png" loading="lazy">
<p>So yes, Dart is fast enough. Sure, there are areas in which other languages compare favorably to Dart. But unless you’re doing something very special, you won’t have issues with that. Your bottlenecks are probably going to be somewhere else than in the programming language.</p>
<section class="footnotes">
<ol>
<li id="fn-1">
<p><a href="https://benchmarksgame-team.pages.debian.net/benchmarksgame/index.html">https://benchmarksgame-team.pages.debian.net/benchmarksgame/index.html</a> <a href="#fnref-1" class="footnote-backref">↩</a></p>
</li>
<li id="fn-2">
<p><a href="https://benchmarksgame-team.pages.debian.net/benchmarksgame/box-plot-summary-charts.html">https://benchmarksgame-team.pages.debian.net/benchmarksgame/box-plot-summary-charts.html</a> <a href="#fnref-2" class="footnote-backref">↩</a></p>
</li>
<li id="fn-3">
<p><a href="https://dev.to/goaty92/in-response-to-yes-php-is-faster-than-c-2a2g">https://dev.to/goaty92/in-response-to-yes-php-is-faster-than-c-2a2g</a> <a href="#fnref-3" class="footnote-backref">↩</a></p>
</li>
<li id="fn-progbench">
<p><a href="https://programming-language-benchmarks.vercel.app/">https://programming-language-benchmarks.vercel.app/</a> <a href="#fnref-progbench" class="footnote-backref">↩</a></p>
</li>
<li id="fn-gameperf">
<p><a href="https://filiph.net/text/benchmarking-flutter-flame-unity-godot.html">https://filiph.net/text/benchmarking-flutter-flame-unity-godot.html</a> <a href="#fnref-gameperf" class="footnote-backref">↩</a></p>
</li>
</ol>
</section>


      <p class="signature">
        <a href="/flutter-performance/#chapters">(back to index)</a>
      </p>

      <div class="footer">
        <img class="filip-portrait" width="175" height="233" src="/img/filip.jpg" srcset="/img/filip.jpg 1x, /img/filip@2x.jpg 2x, /img/filip@3x.jpg 3x, /img/filip@4x.jpg 4x" alt="Filip Hracek’s face">
<p><a href="https://filiph.net/">Filip</a> worked at Google for 14 years — the last 6 on the Dart and Flutter teams in Mountain View. You may recognize him from some of the educational content from that time. Now he’s based in Prague as an open-source contractor and game developer. He writes Dart code every day.</p>
<p>The text you just read is supposed to be a chapter in Filip’s planned <a href="/flutter-performance/">book about Dart and Flutter performance</a>.
<a href="/await">Get notified</a> when he’s finished.</p>
<!--
His main project these days is
[GIANT ROBOT GAME](https://store.steampowered.com/app/2538440/GIANT_ROBOT_GAME/)
(Steam link).
-->


        <p><small><a href="https://filiph.net/flutter-performance/atom.xml">RSS</a></small></p>
      </div>
    </div>
  </body>
</html>
